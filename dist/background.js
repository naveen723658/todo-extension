chrome.contextMenus.create({id:"add-to-todo",title:"Add to TODO",contexts:["selection"]}),chrome.contextMenus.onClicked.addListener(((o,t)=>{const e=o.selectionText;try{chrome.storage.sync.get("todos",(o=>{const t=o.todos||[];t.push(e),chrome.storage.sync.set({todos:t})}))}catch(o){console.log(o)}})),chrome.commands.onCommand.addListener((o=>{"AddTodo"===o&&chrome.tabs.query({active:!0,currentWindow:!0},(o=>{const t=String(o[0].url);try{chrome.storage.sync.get("todos",(o=>{const e=o.todos||[];e.push(t),chrome.storage.sync.set({todos:e})}))}catch(o){console.log(o)}}))})),chrome.runtime.onMessage.addListener((o=>{if("GET_LOGS"===o.message){const t=o.data;try{chrome.storage.sync.get("todos",(o=>{const e=o.todos||[];e.push(t),chrome.storage.sync.set({todos:e})}))}catch(o){console.log(o)}}}));